
Http - 비연결지향

     1)요청
   ------->
 C <------ S 
     2)응답
        ↓
     3)커넥션 끊어짐 
 
  즉 다음번 요청시 누군지모름 
------------------------------

  그래서 1) 요청 
           2) 응답 ( Set Cookie : id: 'xx' ) 이런식으로 쿠키를세팅해서 클라한테보내줌			
                        Cookie : id, 도메인, path, 쿠키저장시간등
	        
           3) 클라이언트가쿠키가 디스크에저장 ? 
            
           3) 그면 다시 클라이언트가 서버한테 요청할때  자신의 Cookie를 보내줌  
           4) 서버는 쿠키를보고 아 그놈이구나 하고 서비스제공
 
   *쿠키로 인증하면 위험 (클라이언트에 저장되니 변조가능 )
    그래서 상품장바구니나, 뭘선택했다 이런거할떄 쓰면됨 
     

  그면 인증 우짜라고?
 
     특별한쿠키가있다. JSESSIONID 

 JsESSIONID = 즉 브라우저 메모리에남김 
 비지카운트는 =디스크에남김  
          
-------------------------------------

 필터?? 


 톰캣안에 세션필터가있다. = 모든 리퀘스트(모든요청)를 꽉잡고있다.
 모든 리퀘스트는 톰캣안의 세션필터를거친다.
 
 * 보고 쿠키없으면 JSESSIONID를 딱 세팅해서 응답할때 보내줌

 *톰캣안에 세션매니저를 가지고있다 .  - MAP을 가지고있다. [  JSESSIONID    |   httpsession    ]
  						           ..                    ..
	브라우저...
 요청들 ↓↓↓↓↓↓↓↓
           
   --------세션필터 ----------
            [ 서블릿 ]
	     |

		| 로그인액션 | -> 아디비번뺴와서 -> DAO -> DB  
					    <- 있으면 userVo리턴	
			↓
		인증처리
		쿠키안에있는 JSESSIONID 에 매핑되어있는 httpsession을 내놔라
		없으면 세션매니저 맵에 JSESSIONID넣고 httpsession 객체만듬 
 		

글쓰기할때
request.getSession 부름 ( 세션매니저한테 JSESSIONID 에 매핑 httpsession 객체 내놔 )
그 객체에 거기에 저장했던 데이터가있는지확인해서 맞으면 인증해줌 시발
  


 






----------

 과제에서 

 수정할떄 = 세션에서 no빼와서 쿼리때려서 업뎃해야지

  쿼리가 두방있어야됨 (where 네임 = 넘어온네임 ) 변경여부알지말고 걍때려 이름 
		    gender 도걍떄려 
 글고 뭐가변경됐는지 알려고하지마라 

  글고 비번이 비어있으면 비번안바꾸잔아 

 포인트= 한방에다떄림


-------

 ajax 처리로하면 간지나지만 더 손이많이감 
그리고
 사용자에게 더 불편할수있다 
네이버게시판왜 타임라인처럼안했겠냐(ajax) 이유가다있다.
인스타랑 게시판차이를잘알아라 
게시판은 옛데이터가중요하니
  
즉 요구에맞춰서써야됨
 
----
 EL JSTL? 
		 				








 











               